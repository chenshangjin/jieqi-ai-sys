# é¡¹ç›®ç»“æ„è¯´æ˜

## å®Œæ•´çš„ç›®å½•æ ‘

```
jieqi-ai-sys/
â”œâ”€â”€ README.md                          # é¡¹ç›®ä¸»æ–‡æ¡£
â”œâ”€â”€ LICENSE.md                         # GPLv3 å¼€æºåè®®
â”œâ”€â”€ CHANGELOG.md                       # ç‰ˆæœ¬æ—¥å¿—
â”œâ”€â”€ CONTRIBUTING.md                   # è´¡çŒ®æŒ‡å—
â”œâ”€â”€ setup.py                           # PythonåŒ…é…ç½®
â”œâ”€â”€ requirements.txt                  # Pythonä¾èµ–
â”œâ”€â”€ .editorconfig                      # ç¼–è¾‘å™¨é…ç½®
â”œâ”€â”€ .gitignore                         # Gitå¿½ç•¥è§„åˆ™
â”œâ”€â”€ .github/                           # GitHubé…ç½®ï¼ˆæœªæ¥ï¼‰
â”‚   â””â”€â”€ workflows/
â”‚       â””â”€â”€ tests.yml                  # CI/CDå·¥ä½œæµ
â”‚
â”œâ”€â”€ docs/                              # ğŸ“š æ–‡æ¡£ç›®å½•
â”‚   â”œâ”€â”€ algorithm.md                   # ç®—æ³•è®¾è®¡æ–‡æ¡£
â”‚   â”œâ”€â”€ architecture.md                # æ¶æ„è®¾è®¡
â”‚   â”œâ”€â”€ dev-guide.md                   # å¼€å‘æŒ‡å—
â”‚   â”œâ”€â”€ deployment.md                  # éƒ¨ç½²æŒ‡å—
â”‚   â””â”€â”€ images/                        # å›¾ç‰‡èµ„æº
â”‚
â”œâ”€â”€ src/                               # ğŸ Pythonæºä»£ç 
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ ai/                            # AIæ ¸å¿ƒæ¨¡å—
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ engine.py                  # æœç´¢å¼•æ“ï¼ˆä¸»ç®—æ³•ï¼‰
â”‚   â”‚   â”œâ”€â”€ evaluator.py               # è¯„ä¼°å‡½æ•°ï¼ˆå¾…å®ç°ï¼‰
â”‚   â”‚   â””â”€â”€ position.py                # Positionç±»ï¼ˆå¾…å®ç°ï¼‰
â”‚   â”‚
â”‚   â”œâ”€â”€ board/                         # æ£‹ç›˜ç®¡ç†æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ board.py                   # æ£‹ç›˜æ•°æ®ç»“æ„å’Œç§»åŠ¨ç”Ÿæˆ
â”‚   â”‚   â”œâ”€â”€ common.py                  # å…¬å…±å‡½æ•°å’Œè¯„ä¼°è¡¨(PST)
â”‚   â”‚   â”œâ”€â”€ library.py                 # å¼€å±€åº“æ•°æ®
â”‚   â”‚   â””â”€â”€ ALL_ZERO_TUPLE.txt         # åˆå§‹æ£‹å±€é…ç½®
â”‚   â”‚
â”‚   â”œâ”€â”€ gui/                           # GUIå›¾å½¢ç•Œé¢æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ main.py                    # GUIä¸»ç¨‹åºï¼ˆpygameï¼‰
â”‚   â”‚   â”œâ”€â”€ board_display.py           # æ£‹ç›˜æ˜¾ç¤ºç»„ä»¶ï¼ˆå¾…å®ç°ï¼‰
â”‚   â”‚   â””â”€â”€ styles.py                  # æ ·å¼é…ç½®ï¼ˆå¾…å®ç°ï¼‰
â”‚   â”‚
â”‚   â”œâ”€â”€ server/                        # ğŸ“¡ HTTPæœåŠ¡å™¨ï¼ˆæœªæ¥ï¼‰
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ api.py                     # REST APIæ¥å£
â”‚   â”‚   â””â”€â”€ ocr.py                     # å›¾åƒè¯†åˆ«æ¨¡å—
â”‚   â”‚
â”‚   â””â”€â”€ utils/                         # å·¥å…·å‡½æ•°æ¨¡å—
â”‚       â”œâ”€â”€ __init__.py
â”‚       â”œâ”€â”€ move_parser.py             # ç€æ³•è§£æï¼ˆå¾…å®ç°ï¼‰
â”‚       â””â”€â”€ logger.py                  # æ—¥å¿—å·¥å…·ï¼ˆå¾…å®ç°ï¼‰
â”‚
â”œâ”€â”€ cpp/                               # âš¡ C++é«˜æ€§èƒ½ç‰ˆæœ¬
â”‚   â”œâ”€â”€ CMakeLists.txt                 # CMakeé…ç½®
â”‚   â”œâ”€â”€ README.md                      # C++ç‰ˆæœ¬è¯´æ˜æ–‡æ¡£
â”‚   â”œâ”€â”€ src/                           # C++æºä»£ç 
â”‚   â”‚   â”œâ”€â”€ main.cpp                   # ä¸»ç¨‹åºå…¥å£
â”‚   â”‚   â”œâ”€â”€ board/                     # æ£‹ç›˜å®ç° (AIBoard3/4/5)
â”‚   â”‚   â”œâ”€â”€ global/                    # å…¨å±€é…ç½®
â”‚   â”‚   â””â”€â”€ score/                     # æ£‹åŠ›è¯„ä¼°å¼•æ“
â”‚   â”‚
â”‚   â”œâ”€â”€ include/                       # å¤´æ–‡ä»¶ï¼ˆæœªæ¥æ‰©å±•ï¼‰
â”‚   â”œâ”€â”€ config/                        # é…ç½®æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ players.conf               # ç©å®¶é…ç½®
â”‚   â”‚   â”œâ”€â”€ score.conf                 # è¯„ä¼°å‚æ•°
â”‚   â”‚   â””â”€â”€ default.conf               # é»˜è®¤é…ç½®
â”‚   â”‚
â”‚   â”œâ”€â”€ data/                          # æ•°æ®æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ openings/                  # å¼€å±€åº“ï¼ˆ.gitkeepï¼‰
â”‚   â”‚   â””â”€â”€ logs/                      # å¯¹å±€æ—¥å¿—ï¼ˆ.gitkeepï¼‰
â”‚   â”‚
â”‚   â””â”€â”€ build/                         # æ„å»ºç›®å½•ï¼ˆç¼–è¯‘åç”Ÿæˆï¼‰
â”‚
â”œâ”€â”€ tests/                             # ğŸ§ª å•å…ƒæµ‹è¯•
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ test_ai.py                     # AIç®—æ³•æµ‹è¯•
â”‚   â”œâ”€â”€ test_board.py                  # æ£‹ç›˜æµ‹è¯•
â”‚   â”œâ”€â”€ test_move.py                   # ç€æ³•æµ‹è¯•
â”‚   â””â”€â”€ fixtures/                      # æµ‹è¯•æ•°æ®ï¼ˆ.gitkeepï¼‰
â”‚
â”œâ”€â”€ scripts/                           # ğŸ“œ è¾…åŠ©è„šæœ¬
â”‚   â”œâ”€â”€ setup.py                       # ç¯å¢ƒè®¾ç½®è„šæœ¬
â”‚   â”œâ”€â”€ run_tests.sh                   # è¿è¡Œæµ‹è¯•è„šæœ¬
â”‚   â”œâ”€â”€ build_cpp.sh                   # ç¼–è¯‘C++ç‰ˆæœ¬è„šæœ¬
â”‚   â””â”€â”€ benchmark.py                   # æ€§èƒ½åŸºå‡†æµ‹è¯•
â”‚
â””â”€â”€ archive/                           # ğŸ“¦ å†å²ç‰ˆæœ¬ï¼ˆgitå¿½ç•¥ï¼‰
    â”œâ”€â”€ musesfish_pvs.py
    â”œâ”€â”€ musesfish_pvs_v1_fixed.py
    â”œâ”€â”€ musesfish_pvs_exp.py
    â”œâ”€â”€ musesfish_mtd_*.py
    â””â”€â”€ musesfish_pvs_20210*.py
```

## å…³é”®ç›®å½•è¯´æ˜

### `src/` - Pythonæºä»£ç 
ä¸»è¦çš„Pythonå®ç°ä»£ç ã€‚éµå¾ªæ ‡å‡†PythonåŒ…ç»“æ„ï¼Œæ”¯æŒ `pip install -e .` å®‰è£…ã€‚

| å­æ¨¡å— | ç”¨é€” |
|--------|------|
| `ai` | AIæœç´¢ç®—æ³•æ ¸å¿ƒ |
| `board` | æ£‹ç›˜ç®¡ç†å’Œè§„åˆ™æ£€æŸ¥ |
| `gui` | GUIå¯è§†åŒ–ç•Œé¢ |
| `server` | HTTPæœåŠ¡å™¨ï¼ˆè§„åˆ’ä¸­ï¼‰ |
| `utils` | å·¥å…·å‡½æ•° |

### `cpp/` - C++é«˜æ€§èƒ½å®ç°
C++ç‰ˆæœ¬ç”¨äºé«˜æ€§èƒ½éƒ¨ç½²ï¼ŒåŒ…å«å®Œæ•´çš„ç¼–è¯‘é…ç½®ã€‚

| ç›®å½• | ç”¨é€” |
|------|------|
| `src/` | C++æºä»£ç  |
| `config/` | é…ç½®æ–‡ä»¶é›†ä¸­å­˜å‚¨ |
| `data/` | æ¸¸æˆæ•°æ®å’Œæ—¥å¿— |
| `build/` | CMakeç¼–è¯‘ç›®å½• |

### `tests/` - å•å…ƒæµ‹è¯•
ä½¿ç”¨pytestæ¡†æ¶çš„æµ‹è¯•å¥—ä»¶ã€‚

```
tests/
â”œâ”€â”€ test_ai.py        # æœç´¢ç®—æ³•æµ‹è¯•
â”œâ”€â”€ test_board.py     # æ£‹ç›˜æ“ä½œæµ‹è¯•
â”œâ”€â”€ test_move.py      # ç€æ³•åˆæ³•æ€§æµ‹è¯•
â””â”€â”€ fixtures/         # æµ‹è¯•æ•°æ®å’Œfixtures
```

### `docs/` - æ–‡æ¡£
é¡¹ç›®æ–‡æ¡£ï¼ŒåŒ…æ‹¬ï¼š
- `algorithm.md` - ç®—æ³•è®¾è®¡åŸç†
- `architecture.md` - æ¶æ„è®¾è®¡
- `dev-guide.md` - å¼€å‘æŒ‡å—
- `deployment.md` - éƒ¨ç½²æŒ‡å—

### `scripts/` - è¾…åŠ©è„šæœ¬
ç®€åŒ–å¸¸è§æ“ä½œçš„è„šæœ¬ï¼š
- `build_cpp.sh` - ç¼–è¯‘C++ç‰ˆæœ¬
- `run_tests.sh` - è¿è¡Œå•å…ƒæµ‹è¯•
- `benchmark.py` - æ€§èƒ½åŸºå‡†æµ‹è¯•

### `archive/` - å†å²ç‰ˆæœ¬
æ‰€æœ‰æ—§ç‰ˆæœ¬çš„Pythonæ–‡ä»¶å­˜å‚¨åœ¨è¿™é‡Œï¼Œä¿æŒä¸»ç›®å½•æ•´æ´ã€‚

## ä¾èµ–å…³ç³»

```
src/
â”œâ”€â”€ ai/
â”‚   â””â”€â”€ requires: board, utils
â”œâ”€â”€ board/
â”‚   â””â”€â”€ requires: utils
â”œâ”€â”€ gui/
â”‚   â””â”€â”€ requires: ai, board, utils
â””â”€â”€ utils/
    â””â”€â”€ no dependencies
```

## å¼€å‘å·¥ä½œæµ

1. **ä¿®æ”¹æºä»£ç ** â†’ `src/` ç›®å½•
2. **ç¼–å†™æµ‹è¯•** â†’ `tests/` ç›®å½•
3. **è¿è¡Œæµ‹è¯•** â†’ `bash scripts/run_tests.sh`
4. **ç¼–è¯‘C++** â†’ `bash scripts/build_cpp.sh`
5. **æ›´æ–°æ–‡æ¡£** â†’ `docs/` ç›®å½•
6. **æäº¤ä»£ç ** â†’ `git commit`

## Gitå·¥ä½œæµ

```
.gitignoreè§„åˆ™ï¼š
- âœ— å¿½ç•¥ç¼–è¯‘äº§ç‰© (*.o, *.exe, build/)
- âœ— å¿½ç•¥Pythonç¼“å­˜ (__pycache__, *.pyc)
- âœ— å¿½ç•¥IDEæ–‡ä»¶ (.vscode/, .idea/)
- âœ— å¿½ç•¥æ—¥å¿—å’Œä¸´æ—¶æ–‡ä»¶ (*.log, tmp/)
- âœ“ è·Ÿè¸ªé…ç½®æ–‡ä»¶ (config/)
- âœ“ è·Ÿè¸ªæºä»£ç  (src/, cpp/src/)
- âœ“ è·Ÿè¸ªæµ‹è¯• (tests/)
```

## è§„èŒƒå’Œæœ€ä½³å®è·µ

### Python
- éµå¾ª PEP 8 é£æ ¼æŒ‡å—
- ä½¿ç”¨ç±»å‹æ³¨è§£ (type hints)
- ç¼–å†™å•å…ƒæµ‹è¯•å’Œæ–‡æ¡£

### C++
- éµå¾ª Google C++ Style Guide
- ä½¿ç”¨ç°ä»£C++17ç‰¹æ€§
- æ·»åŠ ä»£ç æ³¨é‡Š

### Git
- ä½¿ç”¨ Conventional Commits æ ¼å¼
- ä¸ºæ¯ä¸ªåŠŸèƒ½åˆ›å»ºåˆ†æ”¯
- åœ¨åˆå¹¶å‰é€šè¿‡ä»£ç å®¡æŸ¥

## æ‰©å±•å’Œæ”¹è¿›è®¡åˆ’

### çŸ­æœŸï¼ˆä¸‹ä¸€ä¸ªç‰ˆæœ¬ï¼‰
- [ ] å®Œå–„GUIåŠŸèƒ½å’Œæ€§èƒ½
- [ ] å®ç°å›¾åƒè¯†åˆ«æ¨¡å—
- [ ] å»ºç«‹HTTPæœåŠ¡å™¨

### ä¸­æœŸ
- [ ] Androidå®¢æˆ·ç«¯å¼€å‘
- [ ] äº‘éƒ¨ç½²æ”¯æŒ
- [ ] å¼€å±€åº“æ‰©å±•

### é•¿æœŸ
- [ ] æœºå™¨å­¦ä¹ è¯„ä¼°å‡½æ•°
- [ ] å¤šçº¿ç¨‹æœç´¢ä¼˜åŒ–
- [ ] æ£‹åŠ›ç­‰çº§æ’åç³»ç»Ÿ
